<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
        <title>Scoutmaster FTC</title>
        <link rel="stylesheet" href="styles/styles.css">
        <link rel="stylesheet" href="styles/accountmanagestyles.css">
    </head>

    <body>
        <!--nav-->

        <div class="nav">
            <center>
                <div class="navcontainer">
                    <div class="titlecontainer"><p class="title">Scoutmaster</p></div>
                    <div class="buttoncontainer">
                        <div class="buttonminicontainer">
                            <div class="accountbuttoncontainer" id="accountbutton"><button class="accountbutton" onclick="goToAccountPage()"><img class="accountbuttonimg" id="accountbuttonimg" src="images/accountblack.png"></div>
                            <div class="darklighttogglecontainer"><button class="darklighttoggle" onclick="darkmodetoggle()"><img class="darklighttoggleimg" id="imgToToggle" src="images/moon.png"></button></div>
                        </div>
                    </div>
                </div>
                <div class="navdividercontainer">
                    <hr id="navdivider" class="navdivider">
                </div>
            </center>
        </div>


        <!--body-->

        <div class="mainbody">
            <div class="signedinmainbody" id="signedinmainbody">
                <div class="ingroupmainbody" id="ingroupmainbody">
                    <div class="adminviewbodycontainer" id="adminviewbodycontainer">
                        <div class="competitionfocusselectcontainer" id="competitionfocusselectcontainer">
                            <p class="generaltext" id="compinfo">Currently Scouting:</p>
                            <div class="compsearchcontainer" id="compsearchcontainer">
                                <input type="text" id="compsearchinput" class="compsearchinput" placeholder="Competition Code">
                                <div class="comptabcontainer" id="comptabcontainer">
                                </div>
                            </div>
                        </div>
                        <div class="memberlistcontainer" id="memberlistcontainer">
                            <div class="memberlisttablecontainer">
                                <p class="generaltext" style="text-align: center;">Manage Members</p>
                                <table class="memberlisttable" id="memberlisttable">
                                    <tbody id="memberlisttbody">
                                        <thead>
                                            <td class="tabletitle" style="width: 80%;">Member</td>
                                            <td class="tabletitle" style="width: 20%;">Admin</td>
                                        </thead>
                                    </tbody>
                                </table>

                                <div class="tablebelowbuttoncontainer">
                                    <div class="invitebuttoncontainer">
                                        <button class="invitebutton" id="invitebutton" onclick="invitePopUpOpen()">Invite</button>
                                    </div>
                                    <div class="adminupdatebuttoncontainer">
                                        <button class="updateadminbutton" id="updateadminbutton" onclick="popUpWarning('This action changes admins of group, and changes who has permissions to do what, are you 100% sure you want to continue?', adminUpdate)">Update</button>
                                    </div>
                                </div>

                                <table class="memberlisttable">
                                    <tbody id="invitedtbody">
                                        <thead>
                                            <td class="tabletitle" style="width: 100%;">Pending Invites</td>
                                        </thead>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="regviewbodycontainer" id="regviewbodycontainer">
                        <div class="threebuttonscontainer">
                            <div class="emptyalignerthirds"></div>
                            <div class="prescoutbuttoncontainer">
                                <button class="threebuttonsbutton" onclick="showPrescout()">Prescouting</button>
                            </div>
                            <div class="matchscoutbuttoncontainer">
                                <button class="threebuttonsbutton" onclick="showMatchScout()">Match Scouting</button>
                            </div>
                            <div class="allianceselectionbuttoncontainer">
                                <button class="threebuttonsbutton" onclick="showAllianceSelection()">Alliance Selection</button>
                            </div>
                            <div class="emptyalignerthirds"></div>
                        </div>
                    </div>
                


                    <div class="prescoutbodycontainer" id="prescoutbodycontainer">
                        <button class="changeablebutton" id="prescoutallthewaybackbutton" style="margin-top: 10px;margin-bottom: 10px; display: block;" onclick="goBackFromPrescout()">&lt;- Back</button>
                        <div class="prescoutteamslist" id="prescoutteamslist">
                            <p class="generaltext" id="competitionnameinprescoutlist">Loading...</p>
                            <table style="border-collapse: collapse;">
                                <thead style="border-bottom: 1px solid #727272;;">
                                    <td class="prescoutthead">Team</td>
                                    <td class="prescoutthead">Scouted</td>
                                </thead>
                                <tbody id="prescoutteamstbody" class="prescoutteamstbody">
                                    <tr class="prescouttablerow">
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="prescoutteampage" id="prescoutteampage">                    
                            <div class="abilitycontainer">
                                <button class="changeablebutton" onclick="goBackFromTeamPagePreScout()">&lt;- Back</button>
                            </div>
                            <div class="abilitycontainer">
                                <p class="generaltext" id="teamnumnameprescout" style="font-weight: bold;">Loading...</p>
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext" id="teamlocationprescout">Loading...</p>
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext" id="teamrookieyearprescout">Loading...</p>
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext">Can do X: </p>
                                <input class="prescoutcheckbox" type="checkbox" id="ability1input">
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext">Can do Y: </p>
                                <input class="prescoutcheckbox" type="checkbox" id="ability2input">
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext">How many Zs?: </p>
                                <input class="prescouttextinput" maxlength="20" type="text" id="ability3input">
                            </div>
                            <div class="abilitycontainer">
                                <button class="changeablebutton" onclick="showAutoOverlay()">Auto Paths</button>
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext">Auto Description:</p>
                            </div>
                            <div class="abilitycontainer">
                                <input class="prescoutbiginput" maxlength="300" rows="8" type="text" id="strategyinput">
                            </div>
                            <div class="abilitycontainer">
                                <p class="prescoutsmalltext">Notes:</p>
                            </div>
                            <div class="abilitycontainer">
                                <input class="prescoutbiginput" maxlength="300" rows="8" type="text" id="notesinput">
                            </div>
                            <div class="abilitycontainer">
                                <button id="prescoutfinalsubmitbutton" class="dangerbutton" onclick="popUpWarning('Pressing continue will mean that you can no longer edit ANY data of this team, are you 100% sure you want to continue?', savePrescoutData)">Submit</button>
                            </div>
                        </div>
                    </div>



                    <div class="matchscoutbodycontainer" id="matchscoutbodycontainer">
                        <button class="changeablebutton" style="margin-top: 10px;margin-bottom: 10px;" onclick="goBackFromMatchScout()">&lt;- Back</button>
                        <p>matchscout?</p>
                    </div>
                    


                    <div class="allianceselectionbodycontainer" id="allianceselectionbodycontainer">
                        <button class="changeablebutton" style="margin-top: 10px;margin-bottom: 10px;" onclick="goBackFromAllianceSelection()">&lt;- Back</button>
                        <p>allianceselection?</p>
                    </div>

                </div>



                <div class="notingroupmainbody" id="notingroupmainbody">
                    <div class="textcontainermainbody" id="notingrouptext">
                        <p class="generaltext">You are not currently in a group, please select one of the options below.</p>
                    </div>
                    <div class="notingroupbuttoncontainer" id="notingroupbuttons">
                        <div class="notingroupbuttonminicontainer">
                            <center><button class="newgroupbutton" id="newgroupbutton" onclick="newButtonClick()">Create a new group</button></center>
                        </div>
                        <div class="notingroupbuttonminicontainer">
                            <center><button class="existinggroupbutton" id="existinggroupbutton" onclick="existingButtonClick()">Join an existing group</button></center>
                        </div>
                    </div>

                    <div class="joingroupcontainer" id="joingroupcontainer">
                        <p class="generaltext">Please input ID of group you were invited to below:</p>
                        <input type="number" id="joingroupinput" placeholder="Group ID">
                        <p class="generaltext" id="errorhandletext"></p>
                        <button class="joingroupbutton" onclick="joinGroup()">Join</button>
                    </div>

                    <div class="creategroupcontainer" id="creategroupcontainer">
                        <p class="subtitle">Group name:</p>
                        <input type="text" id="groupnameinput">
                        <button class="creategroupbutton" id="creategroupbutton" onclick="createGroup()">Create group</button>
                    </div>
                </div>

                <div class="accountmanagebody" id="accountmanagebody" style="display: none;">
                    <button class="changeablebutton" style="margin-top: 10px;margin-bottom: 10px;" onclick="goBackFromAccount()">&lt;- Back</button>
                    <div class="changeablebody">
                        <div class="changeableinputcontainer">
                            <input class="changeableinput" id="changepasswordinput" placeholder="Change Password">
                        </div>
                        <div class="changeablebuttonscontainer">
                            <button class="changeablebutton" id="changepasswordbutton" onclick="changePassword()">Change</button>
                        </div>
                    </div>
                    <div class="dangerbuttonsbody">
                        <button class="dangerbutton" id="logoutbutton" onclick="logOut()">Log Out</button>
                        <button class="dangerbutton" id="leavegroupbutton" onclick="popUpWarning('Pressing continue will remove you from your current group, are you 100% sure you want to continue?', leaveGroup)">Leave Group</button>
                        <button class="dangerbutton" id="deleteaccountbutton" onclick="popUpWarning('Pressing continue will delete your account, are you 100% sure you want to continue?', deleteAccount)">Delete Account</button>
                    </div>
                </div>

            </div>

            <div class="signedoutmainbody" id="signedoutmainbody">
                <div class="textcontainermainbody"><p class="generaltext">Elevate your scouting capabilities and always make the best alliance picks.</p></div>
                <div class="reasonscontainer">
                    <div class="reasonscontainermini">
                        <div class="reason1" id="reason1">
                            <div class="reasonimagecontainer"><img class="reasonimage" src="images/people.png"></div>
                            <div class="reasontextcontainer"><p class="reasontext">Share scouting data with teammates</p></div>
                        </div>
                        <div class="reason2" id="reason2">
                            <div class="reasonimagecontainer"><img class="reasonimage" src="images/calculator.png"></div>
                            <div class="reasontextcontainer"><p class="reasontext">Get accurate numbers for every team at every competition</p></div>
                        </div>
                        <div class="reason3" id="reason3">
                            <div class="reasonimagecontainer"><img class="reasonimage" src="images/handshake.png"></div>
                            <div class="reasontextcontainer"><p class="reasontext">Realtime alliance info</p></div>
                        </div>
                        <div class="reason4" id="reason4">
                            <div class="reasonimagecontainer"><img class="reasonimage" src="images/navigate.png"></div>
                            <div class="reasontextcontainer"><p class="reasontext">Easy to navigate UI</p></div>
                        </div>
                    </div>
                </div>

                <div class="signupbuttoncontainer">
                    <button id="signupbutton" onclick="goToLogIn()" class="signupbutton">Sign in</button>
                </div>
            </div>
        </div>

        <!--popup for warning-->

        <div id="backdrop" class="backdrop"></div>

        <div id="warningpopup" class="popup">
            <p id="warningmessage">Warning text here</p>
            <button class="autopathsbuttongreen" onclick="popUpContinue()">Continue</button>
            <button class="autopathsbuttonred" onclick="popUpCancel()">Cancel</button>
        </div>

        <div id="invitepopup" class="popup">
            <p>Type username of user you would like to invite to group below:</p>
            <input type="text" id="invitepopupinput" placeholder="Email">
            <button onclick="inviteUser()">Continue</button>
            <button onclick="invitePopUpCancel()">Cancel</button>
        </div>

        <div id="statuspopup" class="popup">
            <p id="statuspopuptext">Warning text here</p>
            <button onclick="statusPopUpClose()">Close</button>
        </div>

        <div id="blackout" class="blackout"></div>

        <div id="loadingimgcontainer" class="loadingimg">
            <img src="images/loading.gif">
        </div>

        <div id="autopathsoverlay" class="autopathsoverlay">
            <div class="autopathssection" id="autopathsection1">
                <button class="autopathsbuttongreen" id="newautopathbutton" onclick="newAutoPath()">New Path</button>
                <button class="autopathsbuttonred" onclick="closeAutoPathPopup()">X</button>
            </div>
            <div class="autopathssection" id="autopathsection2">
                <!-- <div class="autodisplaycontainer" onclick="displayAutoBig()">
                    <img src="images/fieldimage.png" style="z-index: 1002; width: 80%; height: auto; position: relative; display: block;">
                    <div style="z-index: 1003; position: absolute; top: 0; left: 0; width: 80%;">
                        <svg viewBox="0 0 300 300" width="100%" height="auto" id="drawablesvg" style="display: block; margin: 0; padding: 0;"></svg>
                    </div>
                </div> -->
            </div>
            <div class="autopathssection" id="autopathsection3" style="display: none;">
                <button class="autopathsbuttonred" onclick="clearCurrentPath()" id="autodisplayclearbutton">Clear</button>
                <button class="autopathsbuttonred" onclick="exitAutoPathCreationWoutSaving()" id="autodisplayexitbutton">Exit</button>
                <button class="autopathsbuttongreen" onclick="exitAutoPathCreationSave()" id="autodisplaysaveandexitbutton">Save & Exit</button>
            </div>
            <div class="autopathssection" id="autopathsection4" style="display: none;">
                <div class="autopathshowsizebig" style="position: relative;">
                    <img src="images/fieldimage.png" style="z-index: 1002; width: 80%; height: auto; position: relative; display: block;">
                    <div style="z-index: 1003; position: absolute; top: 50%; left: 50%; width: 80%; transform: translate(-50%, -50%);">
                        <svg viewBox="0 0 300 300" width="100%" height="auto" id="drawablesvg" style="display: block; margin: 0; padding: 0;"></svg>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script> <!--supabase-->
        <script src="indexjs.js"></script>
    </body>
</html>
